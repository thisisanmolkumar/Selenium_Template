/*
 * Copyright (c) 2016-2022 VMware, Inc. All Rights Reserved.
 * This software is released under MIT license.
 * The full license information can be found in LICENSE in the root directory of this project.
 */
import { Directive, Input } from '@angular/core';
import { ForTypeAheadProvider } from './for-type-ahead.service';
import * as i0 from "@angular/core";
import * as i1 from "./for-type-ahead.service";
// The purpose of this directive is to provide the text content of its host element
// or text content that's passed to its input.
// This directive must stay optional. So do not embed this directive in a component module by default.
// If users need to use this directive, they should import its module on their side.
export class ClrForTypeAhead {
    constructor(el, forTypeAheadProvider) {
        this.el = el;
        this.forTypeAheadProvider = forTypeAheadProvider;
    }
    trimAndLowerCase(value) {
        return value.toLocaleLowerCase().trim();
    }
    get content() {
        return this._content;
    }
    set content(value) {
        if (value) {
            this._content = this.trimAndLowerCase(value);
            this.forTypeAheadProvider.textContent = this._content;
        }
        else {
            this._content = this.trimAndLowerCase(this.el.nativeElement.textContent);
            this.forTypeAheadProvider.textContent = this._content;
        }
    }
    ngOnInit() {
        if (!this._content) {
            this._content = this.trimAndLowerCase(this.el.nativeElement.textContent);
            this.forTypeAheadProvider.textContent = this._content;
        }
    }
}
ClrForTypeAhead.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.0.3", ngImport: i0, type: ClrForTypeAhead, deps: [{ token: i0.ElementRef }, { token: i1.ForTypeAheadProvider }], target: i0.ɵɵFactoryTarget.Directive });
ClrForTypeAhead.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "13.0.3", type: ClrForTypeAhead, selector: "[clrForTypeAhead]", inputs: { content: ["clrForTypeAhead", "content"] }, providers: [ForTypeAheadProvider], ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.0.3", ngImport: i0, type: ClrForTypeAhead, decorators: [{
            type: Directive,
            args: [{
                    providers: [ForTypeAheadProvider],
                    selector: '[clrForTypeAhead]',
                }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i1.ForTypeAheadProvider }]; }, propDecorators: { content: [{
                type: Input,
                args: ['clrForTypeAhead']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9yLXR5cGUtYWhlYWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyL3NyYy91dGlscy9mb3ItdHlwZS1haGVhZC9mb3ItdHlwZS1haGVhZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHO0FBRUgsT0FBTyxFQUFFLFNBQVMsRUFBYyxLQUFLLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFN0QsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sMEJBQTBCLENBQUM7OztBQUVoRSxtRkFBbUY7QUFDbkYsOENBQThDO0FBRTlDLHNHQUFzRztBQUN0RyxvRkFBb0Y7QUFNcEYsTUFBTSxPQUFPLGVBQWU7SUFDMUIsWUFBb0IsRUFBYyxFQUFVLG9CQUEwQztRQUFsRSxPQUFFLEdBQUYsRUFBRSxDQUFZO1FBQVUseUJBQW9CLEdBQXBCLG9CQUFvQixDQUFzQjtJQUFHLENBQUM7SUFFbEYsZ0JBQWdCLENBQUMsS0FBYTtRQUNwQyxPQUFPLEtBQUssQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQzFDLENBQUM7SUFJRCxJQUFJLE9BQU87UUFDVCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDdkIsQ0FBQztJQUVELElBQThCLE9BQU8sQ0FBQyxLQUFhO1FBQ2pELElBQUksS0FBSyxFQUFFO1lBQ1QsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDN0MsSUFBSSxDQUFDLG9CQUFvQixDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1NBQ3ZEO2FBQU07WUFDTCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUN6RSxJQUFJLENBQUMsb0JBQW9CLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7U0FDdkQ7SUFDSCxDQUFDO0lBRUQsUUFBUTtRQUNOLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ2xCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQ3pFLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztTQUN2RDtJQUNILENBQUM7OzRHQTVCVSxlQUFlO2dHQUFmLGVBQWUsaUdBSGYsQ0FBQyxvQkFBb0IsQ0FBQzsyRkFHdEIsZUFBZTtrQkFKM0IsU0FBUzttQkFBQztvQkFDVCxTQUFTLEVBQUUsQ0FBQyxvQkFBb0IsQ0FBQztvQkFDakMsUUFBUSxFQUFFLG1CQUFtQjtpQkFDOUI7b0lBYytCLE9BQU87c0JBQXBDLEtBQUs7dUJBQUMsaUJBQWlCIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCAoYykgMjAxNi0yMDIyIFZNd2FyZSwgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogVGhpcyBzb2Z0d2FyZSBpcyByZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZS5cbiAqIFRoZSBmdWxsIGxpY2Vuc2UgaW5mb3JtYXRpb24gY2FuIGJlIGZvdW5kIGluIExJQ0VOU0UgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgcHJvamVjdC5cbiAqL1xuXG5pbXBvcnQgeyBEaXJlY3RpdmUsIEVsZW1lbnRSZWYsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IEZvclR5cGVBaGVhZFByb3ZpZGVyIH0gZnJvbSAnLi9mb3ItdHlwZS1haGVhZC5zZXJ2aWNlJztcblxuLy8gVGhlIHB1cnBvc2Ugb2YgdGhpcyBkaXJlY3RpdmUgaXMgdG8gcHJvdmlkZSB0aGUgdGV4dCBjb250ZW50IG9mIGl0cyBob3N0IGVsZW1lbnRcbi8vIG9yIHRleHQgY29udGVudCB0aGF0J3MgcGFzc2VkIHRvIGl0cyBpbnB1dC5cblxuLy8gVGhpcyBkaXJlY3RpdmUgbXVzdCBzdGF5IG9wdGlvbmFsLiBTbyBkbyBub3QgZW1iZWQgdGhpcyBkaXJlY3RpdmUgaW4gYSBjb21wb25lbnQgbW9kdWxlIGJ5IGRlZmF1bHQuXG4vLyBJZiB1c2VycyBuZWVkIHRvIHVzZSB0aGlzIGRpcmVjdGl2ZSwgdGhleSBzaG91bGQgaW1wb3J0IGl0cyBtb2R1bGUgb24gdGhlaXIgc2lkZS5cblxuQERpcmVjdGl2ZSh7XG4gIHByb3ZpZGVyczogW0ZvclR5cGVBaGVhZFByb3ZpZGVyXSxcbiAgc2VsZWN0b3I6ICdbY2xyRm9yVHlwZUFoZWFkXScsXG59KVxuZXhwb3J0IGNsYXNzIENsckZvclR5cGVBaGVhZCB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZWw6IEVsZW1lbnRSZWYsIHByaXZhdGUgZm9yVHlwZUFoZWFkUHJvdmlkZXI6IEZvclR5cGVBaGVhZFByb3ZpZGVyKSB7fVxuXG4gIHByaXZhdGUgdHJpbUFuZExvd2VyQ2FzZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHZhbHVlLnRvTG9jYWxlTG93ZXJDYXNlKCkudHJpbSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBfY29udGVudDogc3RyaW5nO1xuXG4gIGdldCBjb250ZW50KCkge1xuICAgIHJldHVybiB0aGlzLl9jb250ZW50O1xuICB9XG5cbiAgQElucHV0KCdjbHJGb3JUeXBlQWhlYWQnKSBzZXQgY29udGVudCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB0aGlzLl9jb250ZW50ID0gdGhpcy50cmltQW5kTG93ZXJDYXNlKHZhbHVlKTtcbiAgICAgIHRoaXMuZm9yVHlwZUFoZWFkUHJvdmlkZXIudGV4dENvbnRlbnQgPSB0aGlzLl9jb250ZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9jb250ZW50ID0gdGhpcy50cmltQW5kTG93ZXJDYXNlKHRoaXMuZWwubmF0aXZlRWxlbWVudC50ZXh0Q29udGVudCk7XG4gICAgICB0aGlzLmZvclR5cGVBaGVhZFByb3ZpZGVyLnRleHRDb250ZW50ID0gdGhpcy5fY29udGVudDtcbiAgICB9XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICBpZiAoIXRoaXMuX2NvbnRlbnQpIHtcbiAgICAgIHRoaXMuX2NvbnRlbnQgPSB0aGlzLnRyaW1BbmRMb3dlckNhc2UodGhpcy5lbC5uYXRpdmVFbGVtZW50LnRleHRDb250ZW50KTtcbiAgICAgIHRoaXMuZm9yVHlwZUFoZWFkUHJvdmlkZXIudGV4dENvbnRlbnQgPSB0aGlzLl9jb250ZW50O1xuICAgIH1cbiAgfVxufVxuIl19